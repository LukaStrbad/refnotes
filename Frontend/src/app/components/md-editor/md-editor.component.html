<div class="flex flex-col h-full gap-2 bg-base-300 p-2 rounded-xl">
  <div class="flex flex-1 justify-between">
    <div>
      {{ testDisplay }}
    </div>

    <div role="tablist" class="hidden sm:tabs tabs-boxed self-end">
      <a
        role="tab"
        class="tab"
        [class.tab-active]="editorMode() === 'SideBySide'"
        (click)="editorMode.set('SideBySide')"
      >
        Side by Side
      </a>
      <a
        role="tab"
        class="tab"
        [class.tab-active]="editorMode() === 'EditorOnly'"
        (click)="editorMode.set('EditorOnly')"
      >
        Editor
      </a>
      <a
        role="tab"
        class="tab"
        [class.tab-active]="editorMode() === 'PreviewOnly'"
        (click)="editorMode.set('PreviewOnly')"
      >
        Preview
      </a>
    </div>
  </div>
  <div
    class="carousel space-x-2 sm:space-x-0 sm:flex gap-2 justify-stretch h-full"
  >
    @if (isMobile || showEditor()) {
      <div class="editor rounded-lg carousel-item w-full sm:w-1/2 sm:flex-1">
        <textarea
          class="editor-textarea w-full bg-base-200 p-2 rounded-lg outline-none resize-none"
          (resize)="onEditorResize($event)"
          placeholder="Write something..."
          [(ngModel)]="value"
          (input)="onEditorInput($event)"
          (keydown)="onEditorKeydown($event)"
          (scroll)="onEditorScroll($event)"
        ></textarea>
      </div>
    }
    @if (isMobile || showPreview()) {
      <div
        class="preview bg-base-200 rounded-lg carousel-item w-full sm:w-1/2 sm:flex-1 overflow-y-scroll"
        [class.no-wrap]="!wrapLines"
      >
        <div
          class="preview-content w-full h-full p-2"
          [innerHTML]="previewContent"
          #previewRef
        ></div>
      </div>
    }
  </div>
</div>
